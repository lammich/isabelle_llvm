<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Metis</title>
</head>


<body>
<div class="head">
<h1>Theory Metis</h1>
</div>

<pre class="source"><span class="comment1"><span>(*  Title:      HOL/Metis.thy
    Author:     Lawrence C. Paulson, Cambridge University Computer Laboratory
    Author:     Jia Meng, Cambridge University Computer Laboratory and NICTA
    Author:     Jasmin Blanchette, TU Muenchen
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Metis Proof Method›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Metis.html"><span>Metis</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="ATP.html"><span>ATP</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="ISABELLE_HOME/src/Tools/Metis/metis.ML.html"><span>‹~~/src/Tools/Metis/metis.ML›</span></a></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Literal selection and lambda-lifting helpers›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Metis.select_def|fact"><span class="entity_def" id="Metis.select_def|thm"><span class="entity_def" id="Metis.select_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Metis.select|const"><span>select</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>select</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Metis.not_atomize|fact"><span class="entity_def" id="Metis.not_atomize|thm"><span>not_atomize</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cut_tac</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.atomize_not|fact"><span>atomize_not</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span></a></span></a></span><span> </span><span class="free"><span class="free"><span class="free"><span>A</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Metis.atomize_not_select|fact"><span class="entity_def" id="Metis.atomize_not_select|thm"><span>atomize_not_select</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Metis.html#Metis.select|const"><span>select</span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Metis.html#Metis.select_def|fact"><span>select_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.atomize_not|fact"><span>atomize_not</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Metis.not_atomize_select|fact"><span class="entity_def" id="Metis.not_atomize_select|thm"><span>not_atomize_select</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Metis.html#Metis.select|const"><span>select</span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Metis.html#Metis.select_def|fact"><span>select_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Metis.html#Metis.not_atomize|fact"><span>not_atomize</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Metis.select_FalseI|fact"><span class="entity_def" id="Metis.select_FalseI|thm"><span>select_FalseI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Metis.html#Metis.select|const"><span>select</span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Metis.lambda_def|fact"><span class="entity_def" id="Metis.lambda_def|thm"><span class="entity_def" id="Metis.lambda_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Metis.lambda|const"><span>lambda</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lambda</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Metis.eq_lambdaI|fact"><span class="entity_def" id="Metis.eq_lambdaI|thm"><span>eq_lambdaI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Metis.html#Metis.lambda|const"><span>lambda</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Metis.html#Metis.lambda_def|fact"><span>lambda_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Metis package›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="ISABELLE_HOME/src/HOL/Tools/Metis/metis_generate.ML.html"><span>‹Tools/Metis/metis_generate.ML›</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="ISABELLE_HOME/src/HOL/Tools/Metis/metis_reconstruct.ML.html"><span>‹Tools/Metis/metis_reconstruct.ML›</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html"><span>‹Tools/Metis/metis_tactic.ML›</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>hide_const</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>open</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Metis.html#Metis.select|const"><span>select</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fFalse|const"><span>fFalse</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fTrue|const"><span>fTrue</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fNot|const"><span>fNot</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fComp|const"><span>fComp</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fconj|const"><span>fconj</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fdisj|const"><span>fdisj</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fimplies|const"><span>fimplies</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fAll|const"><span>fAll</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fEx|const"><span>fEx</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fequal|const"><span>fequal</span></a><span> </span><a class="entity_ref" href="Metis.html#Metis.lambda|const"><span>lambda</span></a><span>
</span><span class="keyword1"><span class="command"><span>hide_fact</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>open</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Metis.html#Metis.select_def|fact"><span>select_def</span></a><span> </span><a class="entity_ref" href="Metis.html#Metis.not_atomize|fact"><span>not_atomize</span></a><span> </span><a class="entity_ref" href="Metis.html#Metis.atomize_not_select|fact"><span>atomize_not_select</span></a><span> </span><a class="entity_ref" href="Metis.html#Metis.not_atomize_select|fact"><span>not_atomize_select</span></a><span> </span><a class="entity_ref" href="Metis.html#Metis.select_FalseI|fact"><span>select_FalseI</span></a><span>
  </span><a class="entity_ref" href="ATP.html#ATP.fFalse_def|fact"><span>fFalse_def</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fTrue_def|fact"><span>fTrue_def</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fNot_def|fact"><span>fNot_def</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fconj_def|fact"><span>fconj_def</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fdisj_def|fact"><span>fdisj_def</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fimplies_def|fact"><span>fimplies_def</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fAll_def|fact"><span>fAll_def</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fEx_def|fact"><span>fEx_def</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fequal_def|fact"><span>fequal_def</span></a><span>
  </span><a class="entity_ref" href="ATP.html#ATP.fTrue_ne_fFalse|fact"><span>fTrue_ne_fFalse</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fNot_table|fact"><span>fNot_table</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fconj_table|fact"><span>fconj_table</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fdisj_table|fact"><span>fdisj_table</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fimplies_table|fact"><span>fimplies_table</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fAll_table|fact"><span>fAll_table</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fEx_table|fact"><span>fEx_table</span></a><span>
  </span><a class="entity_ref" href="ATP.html#ATP.fequal_table|fact"><span>fequal_table</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fAll_table|fact"><span>fAll_table</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fEx_table|fact"><span>fEx_table</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fNot_law|fact"><span>fNot_law</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fComp_law|fact"><span>fComp_law</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fconj_laws|fact"><span>fconj_laws</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fdisj_laws|fact"><span>fdisj_laws</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fimplies_laws|fact"><span>fimplies_laws</span></a><span>
  </span><a class="entity_ref" href="ATP.html#ATP.fequal_laws|fact"><span>fequal_laws</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fAll_law|fact"><span>fAll_law</span></a><span> </span><a class="entity_ref" href="ATP.html#ATP.fEx_law|fact"><span>fEx_law</span></a><span> </span><a class="entity_ref" href="Metis.html#Metis.lambda_def|fact"><span>lambda_def</span></a><span> </span><a class="entity_ref" href="Metis.html#Metis.eq_lambdaI|fact"><span>eq_lambdaI</span></a><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>