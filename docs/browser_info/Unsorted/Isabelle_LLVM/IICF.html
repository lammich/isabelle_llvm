<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory IICF</title>
</head>


<body>
<div class="head">
<h1>Theory IICF</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The LLVM Imperative Isabelle Collection Framework›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="IICF.html"><span>IICF</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> 
  </span><span class="comment1"><span>(* Sets *)</span></span><span>
  </span><span class="quoted"><span>"</span><a href="IICF_Set.html"><span>Intf/IICF_Set</span></a><span>"</span></span><span>

  </span><span class="comment1"><span>(* Multisets *)</span></span><span>
  </span><span class="quoted"><span>"</span><a href="IICF_Multiset.html"><span>Intf/IICF_Multiset</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="IICF_Prio_Bag.html"><span>Intf/IICF_Prio_Bag</span></a><span>"</span></span><span>

  </span><span class="quoted"><span>"</span><a href="IICF_Impl_Heap.html"><span>Impl/Heaps/IICF_Impl_Heap</span></a><span>"</span></span><span>
  

  </span><span class="comment1"><span>(* Maps *)</span></span><span>
  </span><span class="quoted"><span>"</span><a href="IICF_Map.html"><span>Intf/IICF_Map</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="IICF_Prio_Map.html"><span>Intf/IICF_Prio_Map</span></a><span>"</span></span><span>

  </span><span class="quoted"><span>"</span><a href="IICF_Array_Map.html"><span>Impl/IICF_Array_Map</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="IICF_Array_Map_Total.html"><span>Impl/IICF_Array_Map_Total</span></a><span>"</span></span><span>

  
  </span><span class="quoted"><span>"</span><a href="IICF_Impl_Heapmap.html"><span>Impl/Heaps/IICF_Impl_Heapmap</span></a><span>"</span></span><span>
    
  </span><span class="comment1"><span>(* Lists *)</span></span><span>
  </span><span class="quoted"><span>"</span><a href="IICF_List.html"><span>Intf/IICF_List</span></a><span>"</span></span><span>

  </span><span class="quoted"><span>"</span><a href="IICF_Array.html"><span>Impl/IICF_Array</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="IICF_Array_List.html"><span>Impl/IICF_Array_List</span></a><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><a href="IICF_Array_of_Array_List.html"><span>Impl/IICF_Array_of_Array_List</span></a><span>"</span></span><span>
  </span><span class="comment1"><span>(* Matrix *)</span></span><span>
  </span><span class="comment1"><span>(*"Intf/IICF_Matrix"*)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Regression Tests›</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span>experiment</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  </span><span class="comment1"><span>(* TODO: Augment! *)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Free parameter›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF.experiment13465072.test_free1|const"><span>test_free1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>10</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> 
    </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.mop_free|const"><span>mop_free</span></a><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="bound"><span>r</span></span><span>
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Array.html#IICF_Array.array_assn|const"><span>array_assn</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF.experiment13465072.test_free1.refine|fact"><span class="entity_def" id="IICF.experiment13465072.test_free1_def|fact"><span class="entity_def" id="IICF.experiment13465072.test_free1.refine_raw|fact"><span class="entity_def" id="IICF.experiment13465072.test_free1.refine|thm"><span class="entity_def" id="IICF.experiment13465072.test_free1_def|thm"><span class="entity_def" id="IICF.experiment13465072.test_free1.refine_raw|thm"><span class="entity_def" id="IICF.experiment13465072.test_free1_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>

  
  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Free bound var before it goes out of scope›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF.experiment13465072.test_free2|const"><span>test_free2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>N</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><span class="bound"><span>N</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span class="numeral"><span>10</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> 
    </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_Array.html#IICF_Array.mop_array_custom_replicate|const"><span>mop_array_custom_replicate</span></a><span> </span><span class="bound"><span>N</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_set|const"><span>mop_list_set</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>r1</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="numeral"><span>2</span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>r2</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="numeral"><span>3</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.mop_free|const"><span>mop_free</span></a><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_Array.html#IICF_Array.mop_array_custom_replicate|const"><span>mop_array_custom_replicate</span></a><span> </span><span class="bound"><span>N</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r2</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.snat_assn&apos;|const"><span>snat_assn'</span></a><span> </span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfkeep|const"><span><span class="hidden">⇧</span><sup>k</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF.experiment13465072.test_free2.refine|fact"><span class="entity_def" id="IICF.experiment13465072.test_free2_def|fact"><span class="entity_def" id="IICF.experiment13465072.test_free2.refine_raw|fact"><span class="entity_def" id="IICF.experiment13465072.test_free2.refine|thm"><span class="entity_def" id="IICF.experiment13465072.test_free2_def|thm"><span class="entity_def" id="IICF.experiment13465072.test_free2.refine_raw|thm"><span class="entity_def" id="IICF.experiment13465072.test_free2_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
    
  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Free bound var + parameter›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>sepref_definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="IICF.experiment13465072.test_free3|const"><span>test_free3</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>doN</span></span><span> </span><span class="main"><span>{</span></span><span> 
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.ASSERT|const"><span>ASSERT</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>10</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> 
    </span><span class="bound"><span>xs2</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_Array.html#IICF_Array.mop_array_custom_replicate|const"><span>mop_array_custom_replicate</span></a><span> </span><span class="numeral"><span>10</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>xs2</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_set|const"><span>mop_list_set</span></a><span> </span><span class="bound"><span>xs2</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>r1</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="bound"><span>xs2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.mop_free|const"><span>mop_free</span></a><span> </span><span class="bound"><span>xs2</span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>r2</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="IICF_List.html#IICF_List.mop_list_get|const"><span>mop_list_get</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="Sepref_Translate.html#Sepref_Translate.mop_free|const"><span>mop_free</span></a><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>;</span></span><span>
    </span><a class="entity_ref" href="../../AFP/Refine_Monadic/Refine_Basic.html#Refine_Basic.RETURN|const"><span>RETURN</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r2</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="IICF_Array.html#IICF_Array.array_assn|const"><span>array_assn</span></a><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfdrop|const"><span><span class="hidden">⇧</span><sup>d</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Sepref_Rules.html#Sepref_Rules.hfrefttnd|const"><span>→<span class="hidden">⇩</span><sub>a</sub></span></a></span><span> </span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.bool1_assn|const"><span>bool1_assn</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Sepref_HOL_Bindings.html#Sepref_HOL_Bindings.annot_snat_const|method"><span class="operator"><span>annot_snat_const</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><span class="numeral"><span>64</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="IICF.experiment13465072.test_free3.refine|fact"><span class="entity_def" id="IICF.experiment13465072.test_free3_def|fact"><span class="entity_def" id="IICF.experiment13465072.test_free3.refine_raw|fact"><span class="entity_def" id="IICF.experiment13465072.test_free3.refine|thm"><span class="entity_def" id="IICF.experiment13465072.test_free3_def|thm"><span class="entity_def" id="IICF.experiment13465072.test_free3.refine_raw|thm"><span class="entity_def" id="IICF.experiment13465072.test_free3_def_raw|axiom"><span>by</span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="Sepref_Tool.html#Sepref_Tool.sepref|method"><span class="operator"><span>sepref</span></span></a><span>
  


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>



</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>